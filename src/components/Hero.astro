---
---
<section class="hero mx-auto max-w-4xl px-6 py-24 text-center">
  <h1 class="hero__t text-4xl md:text-6xl font-extrabold">
    Hola, soy <span class="text-brand">Daniel</span>
  </h1>
  <p class="hero__s mt-4 text-lg text-[color:var(--muted)]">
    Desarrollador front-end — experiencias rápidas y animadas.
  </p>
  <a
    href="#proyectos"
    class="hero__cta inline-block mt-8 rounded-xl bg-brand px-6 py-3 font-semibold text-brand-ink no-underline hover:opacity-90"
  >
    Ver proyectos
  </a>
</section>

<script>
  const mount = async () => {
    const { canAnimate } = await import("@/utils/anim");
    if (!canAnimate()) return;

    const gsap = (await import("gsap")).default;
    // console.log('GSAP v' + gsap.version); // debug opcional

    const tl = gsap.timeline({ defaults: { ease: "power3.out", duration: 0.7 } });
    tl.from(".hero__t", { y: 40, opacity: 0 })
      .from(".hero__s", { y: 20, opacity: 0, duration: 0.6 }, "-=0.35")
      .from(".hero__cta", { y: 10, opacity: 0, duration: 0.5 }, "-=0.35");
  };

  const ready = () => {
    const target = document.querySelector(".hero");
    if (!target) return mount();

    const io = new IntersectionObserver((entries) => {
      if (entries.some((e) => e.isIntersecting)) {
        io.disconnect();
        mount();
      }
    }, { rootMargin: "120px" });

    io.observe(target);
  };

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", ready, { once: true });
  } else {
    ready();
  }
</script>
